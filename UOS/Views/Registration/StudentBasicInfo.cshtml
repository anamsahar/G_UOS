@model UOS.Models.Registration.StudentBasicDetails
@{
    ViewBag.Title = "_Stu_basic_info";
    Layout = "~/Views/Shared/_layout_reg.cshtml";
}

<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
<div class="container bg-white " style="padding:20px;">
    <div class="row">
        <div class="col-lg-3 col-md-4 col-sm-12 col-12">
            <!-- Nav tabs -->
            <nav class="nav  flex-column text-center">
                <a href="/Registration/StudentBasicInfo" class="nav-item nav-link  py-4 formdata">
                    <i class="fa fa-child fa-lg mr-2"></i> Personal Details
                </a>
                <a href="/Registration/StuGuardianDetails" class="nav-item nav-link py-4 formdata">
                    <i class="fa fa-line-chart fa-lg mr-2"></i> Guardian Details
                </a>
                <a href="/Registration/StuMetricDetails" class="nav-item nav-link  py-4 formdata active">
                    <i class="fa fa-user fa-lg mr-2"></i>  Matric/O-Level
                </a>
                <a href="/Registration/StuInterDetails" class="nav-item nav-link py-4 formdata">
                    <i class="fa fa-id-card fa-lg mr-2"></i> Inter/A-level
                </a>
                <a href="/Registration/StuBachelorsDetails" class="nav-item nav-link py-4 formdata">
                    <i class="fa fa-id-card fa-lg mr-2"></i> Bachelors Details
                </a>
                <a href="/Registration/StuAttachDocument" class="nav-item nav-link py-4 formdata">
                    <i class="fa fa-id-card fa-lg mr-2"></i> Attach Documents
                </a>
                <a href="/Registration/StuAffiliatedClg" class="nav-item nav-link py-4 formdata">
                    <i class="fa fa-paperclip fa-lg mr-2 "></i> For Affiliated Colleges
                </a>

            </nav>
        </div>

        <div class="col-lg-9 col-md-8 col-sm-12 col-12">
            <div class="">

                <div>
                    @using (Html.BeginForm("StudentBasicInfo", "Registration", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @Html.ValidationSummary("", new { @style = "color:red" })
                        <div class="col-md-12">
                            <div class="form-group row">
                                <div class="col-lg-8 col-md-9 col-sm-12 float1">
                                    <div class="form-group row align">
                                        @Html.HiddenFor(reg => reg.AppId)
                                        @Html.LabelFor(reg => reg.regNumber, new { @class = "col-form-label label col-lg-4 col-md-5 " })
                                        <div class=" col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-file-text"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.regNumber, new { @class = "form-control form-control-sm", @readonly="readonly", @placeholder = "Reg. Number If Already Registerd" ,@id="stRegistrartionNumber" })
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.stu_name, new { @class = "col-form-label label col-lg-4 col-md-5 " })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-user"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.stu_name, new { @class = "form-control form-control-sm", @placeholder = "Full Name" ,@id="stu_name"})

                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.stu_Father, new { @class = "col-form-label label col-lg-4 col-md-5 " })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-user"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.stu_Father, new { @class = "form-control form-control-sm", @placeholder = "Father Name" ,@id="Father_name"})
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.cnic, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-id-card"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.cnic, new { @class = "form-control form-control-sm", @readonly = "readonly", @maxlength = "15", @placeholder = "Enter CNIC", @id = "txtStdCNIC" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.cell_no, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-phone"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.cell_no, new { @class = "form-control form-control-sm", @placeholder = "03000000000", @maxlength = "11" ,@id="txtcell" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.email, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.email, new { @class = "form-control form-control-sm", @placeholder = "xyz@gmail.com", @id = "txtemail" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.pob, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-home"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.pob, new { @class = "form-control form-control-sm", @placeholder = "Pick Place" ,@id = "txtpob" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.dob, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-calendar-check"></i></span>
                                                </div>
                                                @Html.TextBoxFor(model => model.dob, new { @class = "form-control datepicker form-control-sm", @placeholder = "01/Dec/1990", @id = "txtbob" })

                                                @*<input name="dob" class="form-control form-control-sm datepicker" placeholder="Pick Date " />*@
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.gender, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group ">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-venus"></i></span>
                                                </div>
                                                @Html.DropDownListFor(reg => reg.gender, new SelectList(Model.GenderDD, "Name", "Name"), new { @class = "form-control form-control-sm", @placeholder = "Gender" })
                                                @*@Html.TextBoxFor(reg => reg.gender, new { @class = "form-control form-control-sm", @placeholder = "Gender" })*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.m_status, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-user-plus"></i></span>
                                                </div>
                                                @Html.DropDownListFor(reg => reg.m_status, new SelectList(Model.m_statusDD, "Name", "Name"), new { @class = "form-control form-control-sm", @placeholder = "Gender" })
                                                @*@Html.TextBoxFor(reg => reg.m_status, new { @class = "form-control form-control-sm", @placeholder = "Married/Unmarried" })*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.religion, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-book"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.religion, new { @class = "form-control form-control-sm", @placeholder = "Muslim/NonMuslim", @id = "txtreligion" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.nationality, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class="col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-flag"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.nationality, new { @class = "form-control form-control-sm", @placeholder = "Pakistani", @id = "txtnationality" })
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group row align">
                                        @Html.LabelFor(reg => reg.b_group, new { @class = "col-form-label label col-lg-4 col-md-5" })
                                        <div class=" col-lg-8 col-md-7">
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text"><i class="fa fa-mars"></i></span>
                                                </div>
                                                @Html.TextBoxFor(reg => reg.b_group, new { @class = "form-control form-control-sm", @placeholder = "A+", @id = "txtbg" })
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class=" col-lg-4 col-md-3 col-sm-12 align-content-center float">
                                    <div class="avatar-upload">
                                        <div class="avatar-edit" title="Upload Passport Size Photo">
                                            <input type='file' name="imageUpload" id="imageUpload" accept=".png, .jpg, .jpeg" />
                                            <label for="imageUpload" class="img_upload pt-1" id="lblImageUpload"><i class="fa fa-upload pl-2 "></i></label>
                                        </div>
                                        <div class="avatar-preview" title="Upload Passport Size Photo">
                                            <div id="imagePreview" class="img">
                                                @*<img alt="" src="@url.Content("~/Images/img.jpg")" style="display: inline; margin-right: 5px;" />*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mt-2 ">
                                        <div class="card-body">
                                            Course Name:<label class="  ml-2 u-text border-secondary">@Model.DisciplineName</label>  @*@Html.LabelFor(reg => reg.DisciplineName)*@
                                            <br />
                                            Granted Seats:<label class="  ml-2 u-text border-secondary">@Model.GrantedSeats</label>@*@Html.LabelFor(reg => reg.GrantedSeats)*@
                                            <br />
                                            Category: <label class="  ml-2 u-text border-secondary">@Model.CategoryName</label>@*@Html.LabelFor(reg => reg.Category)*@
                                        </div>
                                    </div>


                                </div>

                            </div>
                            <div class="form-group row  pr-3 mr-5">
                                <div class="col-md-12">
                                    <div class=" row align">
                                        @Html.LabelFor(reg => reg.address, new { @class = "col-form-label label col-lg-3 col-md-4" })
                                        <div class=" col-lg-9 col-md-8">
                                            <div class="row">
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-globe"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.country, new SelectList(Model.CountryDD, "ID", "COUNTERY"), new { @class = "form-control form-control-sm", @id = "countrydd", @placeholder = "COUNTERY" })
                                                    @*@Html.TextBoxFor(reg => reg.country, new { @class = "form-control form-control-sm", @placeholder = "Country" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-dot-circle-o"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.province, new SelectList(Model.ProvinceDD, "ID", "Province_name"), new { @class = "form-control form-control-sm", @id = "provincedd", @placeholder = "Province" })
                                                    @*@Html.TextBoxFor(reg => reg.province, new { @class = "form-control form-control-sm", @placeholder = "Province" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-map-marker"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.district, new SelectList(Model.DistrictDD, "ID", "Dist_Name"), new { @class = "form-control form-control-sm", @id = "distdd", @placeholder = "District" })
                                                    @*@Html.TextBoxFor(reg => reg.district, new { @class = "form-control form-control-sm", @placeholder = "District" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-map-marker"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.tehsil, new SelectList(Model.TehsilDD, "ID", "Tehsil"), new { @class = "form-control form-control-sm", @id = "tehsildd", @placeholder = "Tehsil" })
                                                    @*@Html.TextBoxFor(reg => reg.tehsil, new { @class = "form-control form-control-sm", @placeholder = "Tehsil" })*@
                                                </div>
                                                <div class="input-group col-md-8 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-home"></i></span>
                                                    </div>
                                                    @Html.TextBoxFor(reg => reg.address, new { @class = "form-control form-control-sm", @placeholder = "Address" ,@id="PAddress" })
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="form-group col-md-12 align">
                                    <div class="row">
                                        <div class="col-lg-3"></div>
                                        <div class="col-lg-9">
                                            <div class="form-check text-left">
                                                @*<label class="form-check-label small ">
                                                    <input type="checkbox" class="form-check-input " id="SamAdrs" value="">Same as Above
                                                </label>*@
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-md-12">
                                    <div class=" row align">
                                        @Html.LabelFor(reg => reg.per_address, new { @class = "col-form-label label col-lg-3 col-md-4" })
                                        <div class=" col-lg-9 col-md-8">
                                            <div class="row">
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-globe"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.per_country, new SelectList(Model.Per_countryDD, "ID", "COUNTERY"), new { @class = "form-control form-control-sm", @id = "percountrydd", @placeholder = "COUNTERY" })
                                                    @*@Html.TextBoxFor(reg => reg.per_country, new { @class = "form-control form-control-sm", @placeholder = "Country" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-dot-circle-o"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.per_province, new SelectList(Model.Per_provinceDD, "ID", "Province_name"), new { @class = "form-control form-control-sm", @id = "perprovincedd", @placeholder = "Province" })
                                                    @*@Html.TextBoxFor(reg => reg.per_province, new { @class = "form-control form-control-sm", @placeholder = "Province" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-map-marker"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.per_district, new SelectList(Model.Per_districtDD, "ID", "Dist_Name"), new { @class = "form-control form-control-sm", @id = "perdistdd", @placeholder = "District" })
                                                    @*@Html.TextBoxFor(reg => reg.per_district, new { @class = "form-control form-control-sm", @placeholder = "District" })*@
                                                </div>
                                                <div class="input-group col-md-4 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-map-marker"></i></span>
                                                    </div>
                                                    @Html.DropDownListFor(reg => reg.per_tehsil, new SelectList(Model.Per_tehsilDD, "ID", "Tehsil"), new { @class = "form-control form-control-sm", @id = "pertehsildd", @placeholder = "Tehsil" })
                                                    @*@Html.TextBoxFor(reg => reg.per_tehsil, new { @class = "form-control form-control-sm", @placeholder = "Tehsil" })*@
                                                </div>
                                                <div class="input-group col-md-8 form-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fa fa-home"></i></span>
                                                    </div>
                                                    @Html.TextBoxFor(reg => reg.per_address, new { @class = "form-control form-control-sm", @placeholder = "Address" ,@id="pRAddress" })
                                                </div>

                                                <div class="col-md-12">
                                                    <button class="btn btn-success btn-rounded  mt-2 px-3  float-left btn-sm" id="btnSubmit"> Submit </button>
                                                </div>
                                            </div>
                                        </div>



                                    </div>
                                </div>

                            </div>

                        </div>

                    }
                </div>

            </div>
        </div>
    </div>
</div>


<!--Modal-->
<div class="modal fade" id="loginModal" tabindex="-1" data-keyboard="false" data-backdrop="static" aria-hidden="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Enter Student CNIC</h5>

            </div>
            <div class="modal-body">


                <div class="form-group col-md-12 col-sm-12">
                    <label class="form-check-label  label">CNIC</label>
                    @Html.TextBoxFor(reg => reg.cnic, new { @class = " form-control form-control-sm", @maxlength = "15", @placeholder = "00000-0000000-0", @id = "Md_Cnic" })
                </div>
                <div class="form-group col-md-12 col-sm-12">
                    <button id="btnCheckCnic" class="btn btn-primary btn-rounded mt-2 float-right btn-sm"> Done </button>
                </div>

            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


@*////////////////////////////////*@

<!--Modal-->
<div class="modal fade" id="ErrorModel" tabindex="-1" data-keyboard="false" data-backdrop="static" aria-hidden="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Error</h5>
            </div>
            <div class="modal-body">
                <div class="form-group col-md-12 col-sm-12">
                    <div class="alert alert-danger col-9 mt-5" role="alert">
                        <p id="ErrorText"></p>
                    </div>
                </div>
                <div class="form-group col-md-12 col-sm-12">
                    <a id="btnErrorDone" class="btn btn-primary btn-rounded mt-2 float-right btn-sm" href="../Registration/Granted_cources"> Done </a>
                </div>

            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>



@{
    if (!string.IsNullOrEmpty(ViewBag.DDImageNull))
    {
        <script type="text/javascript">toastr.error("@ViewBag.DDImageNull")</script>
    }
    if (TempData["Success"] != null)
    {
        <script type="text/javascript">toastr.success("@TempData["Success"].ToString()")</script>
    }
    if (TempData["Exception"] != null)
    {
        <script type="text/javascript">toastr.error("@TempData["Exception"].ToString() ")</script>
    }
}

<script src="~/Scripts/toastr.min.js"></script>

@section scripts{
    <script>

        $(document).ready(function () {

            


            $('#txtStdCNIC').on('input', function (e) {
                var txtVlu = $("#txtStdCNIC").val();
                if (txtVlu.length == 5) {
                    txtVlu = txtVlu + '-'
                    $("#txtStdCNIC").val(txtVlu);
                }
                else if (txtVlu.length == 13)
                {
                    txtVlu = txtVlu + '-'
                    $("#txtStdCNIC").val(txtVlu);
                }
            });



            $('.datepicker').datepicker({

                uiLibrary: 'bootstrap4', format: 'dd/mmm/yyyy'
            });
        });
        $(document).ready(function () {

            $('#SamAdrs').click(function () {
                if ($(this).is(':checked')) {
                    //this.checked = confirm("Are you sure?");
                    //$(this).trigger("change");
                    var CID = $("#countrydd").val();
                    if (CID > 0) {
                        $("#percountrydd").val(CID);
                        $('#percountrydd').trigger('change');
                        var PID = $("#provincedd").val();
                        if (PID > 0) {
                            $("#perprovincedd").val(PID);
                            $('#perprovincedd').trigger('change');
                        }
                    }
                }
            });

            $("#countrydd").change(function () {
                var id = $(this).val();
                if (id != 0) {
                    $.ajax({
                        url: "../Registration/GetProvinces?id=" + id,
                        method: "GET",
                        success: function (result) {
                            console.log(result);
                            $("#provincedd").html("");
                            $("#provincedd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, province) {
                                $("#provincedd").append($('<option></option>').val(province.ID).html(province.Province_name))
                            })
                        }
                    });
                }
                

            });

            $("#provincedd").change(function () {
                var id = $(this).val();
                var temp = $("#provincedd option:selected").text();
                if (temp != "--Select--") {
                    $.ajax({
                        url: "../Registration/GetDistricts?id=" + id,
                        method: "GET",
                        success: function (result) {
                            $("#distdd").html("");
                            $("#distdd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, district) {
                                $("#distdd").append($('<option></option>').val(district.ID).html(district.Dist_Name))
                            })
                        }
                    });
                }

            });

            $("#distdd").change(function () {
                var id = $(this).val();
                var temp = $("#distdd option:selected").text();
                if (temp != "--Select--") {
                    $.ajax({
                        url: "../Registration/GetTehsils?id=" + id,
                        method: "GET",
                        success: function (result) {
                            $("#tehsildd").html("");
                            $("#tehsildd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, tehsil) {
                                $("#tehsildd").append($('<option></option>').val(tehsil.ID).html(tehsil.Tehsil))
                            })
                        }
                    });
                }

            });

            $("#percountrydd").change(function () {
                var id = $(this).val();
                if (id!=0) {
                    $.ajax({
                        url: "../Registration/GetProvinces?id=" + id,
                        method: "GET",
                        success: function (result) {
                            $("#perprovincedd").html("");
                            $("#perprovincedd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, province) {
                                $("#perprovincedd").append($('<option></option>').val(province.ID).html(province.Province_name))
                            })
                        }
                    });
                }

            });

            $("#perprovincedd").change(function () {
                var id = $(this).val();
                var temp = $("#perprovincedd option:selected").text();
                if (temp != "--Select--") {
                    $.ajax({
                        url: "../Registration/GetDistricts?id=" + id,
                        method: "GET",
                        success: function (result) {
                            $("#perdistdd").html("");
                            $("#perdistdd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, district) {
                                $("#perdistdd").append($('<option></option>').val(district.ID).html(district.Dist_Name))
                            })
                        }
                    });
                }

            });

            $("#perdistdd").change(function () {
                var id = $(this).val();
                var temp = $("#perdistdd option:selected").text();
                if (temp != "--Select--") {
                    $.ajax({
                        url: "../Registration/GetTehsils?id=" + id,
                        method: "GET",
                        success: function (result) {
                            $("#pertehsildd").html("");
                            $("#pertehsildd").append($('<option></option>').html("--Select--"))
                            $.each(result, function (i, tehsil) {
                                $("#pertehsildd").append($('<option></option>').val(tehsil.ID).html(tehsil.Tehsil))
                            })
                        }
                    });
                }

            });

        });


        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    $('#imagePreview').css('background-image', 'url(' + e.target.result + ')');
                    $('#imagePreview').hide();
                    $('#imagePreview').fadeIn(650);
                }
                reader.readAsDataURL(input.files[0]);
            }
        }
        $("#imageUpload").change(function () {
            readURL(this);
        });
    </script>

    @*validation Script section*@
    <script>
        $(function () {
            // complete frontend validation
            $("#btnSubmit").click(function () { if ($("#imageUpload").val().length < 1) { toastr.error("Please Upload Image", "Error"); return false; } else if ($("#stu_name").val().length < 1) { toastr.error("Please Enter Name", "Error"); return false; } else if ($("#Father_name").val().length < 1) { toastr.error("Please Enter Father Name", "Error"); return false; } else if ($("#txtStdCNIC").val().length < 1) { toastr.error("Please Enter Your CNIC", "Error"); return false; } else if ($("#txtcell").val().length < 1) { toastr.error("Please Enter Your Cell No", "Error"); return false; } else if ($("#txtemail").val().length < 1) { toastr.error("Please Enter Your Email", "Error"); return false; } else if ($("#txtpob").val().length < 1) { toastr.error("Please Enter Your Place Of Birth", "Error"); return false; } else if ($("#txtbob").val().length < 1) { toastr.error("Please Enter Your Date Of Birth in Correct Formate For Example 05/Jul/1995", "Error"); return false; } else if ($("#txtreligion").val().length < 1) { toastr.error("Please Enter Your Religion", "Error"); return false; } else if ($("#txtnationality").val().length < 1) { toastr.error("Please Enter Your Nationality", "Error"); return false; } else if ($("#txtbg").val().length < 1) { toastr.error("Please Enter Your Blood Group", "Error"); return false; } else if ($("#txtbg").val().length < 1) { toastr.error("Please Enter Your Blood Group", "Error"); return false; } else if ($("#countrydd option:selected").text().length < 1 || $("#countrydd option:selected").text() == "---Select---") { toastr.error("Please Select Country In Present Address Section", "Error"); return false; } else if ($("#provincedd option:selected").text().length < 1 || $("#provincedd option:selected").text() == "---Select---") { toastr.error("Please Select Provience In Present Address Section", "Error"); return false; } else if ($("#distdd option:selected").text().length < 1 || $("#distdd option:selected").text() == "---Select---") { toastr.error("Please Select Distt In Present Address Section", "Error"); return false; } else if ($("#tehsildd option:selected").text().length < 1 || $("#tehsildd option:selected").text() == "---Select---") { toastr.error("Please Select tehsil In Present Address Section", "Error"); return false; } else if ($("#PAddress").val().length < 1) { toastr.error("Please Enter Your Present Address", "Error"); return false; } else if ($("#percountrydd option:selected").text().length < 1 || $("#percountrydd option:selected").text() == "---Select---") { toastr.error("Please Select Country In permanent Address Section", "Error"); return false; } else if ($("#perprovincedd option:selected").text().length < 1 || $("#perprovincedd option:selected").text() == "---Select---") { toastr.error("Please Select Provience In permanent Address Section", "Error"); return false; } else if ($("#perdistdd option:selected").text().length < 1 || $("#perdistdd option:selected").text() == "---Select---") { toastr.error("Please Select Distt In permanent Address Section", "Error"); return false; } else if ($("#pertehsildd option:selected").text().length < 1 || $("#pertehsildd option:selected").text() == "---Select---") { toastr.error("Please Select tehsil In permanent Address Section", "Error"); return false; } else if ($("#pRAddress").val().length < 1) { toastr.error("Please Enter Your permanent Address", "Error"); return false; } else { return true; } return false; });
            // validation on image upload
            $('#imageUpload').on('change', function () {if (this.files[0].size > 300000) {toastr.error("Uploaded Image Size Must Be Less Then Or Equal To 300 KB", "Image Error");} });
        });
    </script>

    @*model work*@
    <script>



        $(function () {

            $('#btnErrorDone').click(function () {

            });



            $('#loginModal').modal('show');
            $('#Md_Cnic').keydown(function (e) { if ((e.keyCode >= 48 && e.keyCode <= 57) || (e.keyCode >= 96 && e.keyCode <= 105) || (e.keyCode == 8) || (e.keyCode == 9)) { return true; } else { e.preventDefault(); } });
            $('#Md_Cnic').on('input', function (e) {
                var txtVlu = $("#Md_Cnic").val();
                if (txtVlu.length == 5) {
                    txtVlu = txtVlu + '-'
                    $("#Md_Cnic").val(txtVlu);
                }
                else if (txtVlu.length == 13) {
                    txtVlu = txtVlu + '-'
                    $("#Md_Cnic").val(txtVlu);
                }
            });

            $('#btnCheckCnic').click(function () {
                var TempCnic = $('#Md_Cnic').val();
                console.log(TempCnic);
                if (TempCnic.length === 15) {
                    
                    $.ajax
              ({
                  url: '../Registration/CNICCheck',
                  type: 'POST',
                  datatype: 'application/json',
                  contentType: 'application/json',
                  data: JSON.stringify({
                      CNIC: TempCnic
                  }),
                  success: function (result) {
                      console.log(result);
                      if (result.Message === "ErrorIsRegistration") {
                          
                          $('#ErrorText').html("Some Error Occure Please Try Agnain");
                          $('#ErrorModel').modal('show');
                      }
                      else if (result.Message === "AlreadyRegisterdInSOmeProgram") {
                          $('#ErrorText').html("You Are Already Registerd In Some Running Program With University Of Sargodha.....");
                          $('#ErrorModel').modal('show');
                      }
                      else if (result.Message === "AccessDenied") {
                          $('#ErrorText').html("You CNIC Is Already Inserted Form Another Affiliated College Please Visit Registration Branch University Of Sargodha....");
                          $('#ErrorModel').modal('show');
                      }
                      else if (result.Message === "NotEligiable") {
                          $('#ErrorText').html("You Are Not Elibiable To apply Is Such program Your Previous Eaducation Record Is Not Full Fill the criteria of Eligibility");
                          $('#ErrorModel').modal('show');
                      }
                      else if (result.Message === "CritariaNotEligiable") {
                          $('#ErrorText').html("Eligibility Criteria Not Found Criteria Will Be Defined Soon From University Of Sargodha....");
                          $('#ErrorModel').modal('show');
                      }
                      else if (result.Message === "ContinueWithTrap") {
                          alert(result.StudentId);
                          
                          window.location.href = '/Registration/CheckAndMoveApplicaion?StudentID=' + result.StudentId;
                      }
                      else if (result.Message === "NewStudent") {
                          $('#txtStdCNIC').val(TempCnic);
                          $('#loginModal').modal('hide');
                      }
                      else if (result.Message === "Old")
                      {
                          $('#txtStdCNIC').val(TempCnic);
                          $('#stRegistrartionNumber').val(result.RegNumber);
                          $('#loginModal').modal('hide');
                      }
                  },
                  error: function () {
                      toastr.error("Something went wrong..");
                  },
              });
                }
                else {
                    toastr.error('Invalid CNIC', 'Error');
                }

            });

        });
    </script>
}